/*! ionic-modal-component v0.0.1 | (c) 2016 @leanzubrezki | https://github.com/leandroz/ionic-modal-component */
"use strict";function _classCallCheck(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function e(e,o){for(var n=0;n<o.length;n++){var t=o[n];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}return function(o,n,t){return n&&e(o.prototype,n),t&&e(o,t),o}}();!function(){function e(){return{restrict:"E",transclude:!0,scope:{onShown:"&",onHidden:"&",onRemoved:"&",onSetup:"&",isOpen:"=",animation:"@",focusFirstInput:"@",backdropClickToClose:"@",hardwareBackButtonClose:"@"},controller:o,bindToController:!0,controllerAs:"vm"}}var o=function(){function e(o,n,t,i){var a=this;_classCallCheck(this,e),this.$rootScope=i,this.$transclude=t,this.$ionicModal=n,this.$scope=o;var r=this.animation,s=this.focusFirstInput,c=this.backdropClickToClose,l=this.hardwareBackButtonClose;s="true"==s,c="true"==c,l="true"==l,t(function(e,o){a.cloneTranscludeScope=o;var n=a.createModalAndAppendClone({scope:o,animation:r,focusFirstInput:s,backdropClickToClose:c,hardwareBackButtonClose:l},e);a.setupScopeListeners(n.scope),a.createIsOpenWatcher(),a.addOnDestroyListener(),a.emitOnSetupEvent()})}return _createClass(e,[{key:"setupScopeListeners",value:function(e){e.$on("modal.shown",this.onShown),e.$on("modal.hidden",this.onHidden),e.$on("modal.removed",this.onRemoved)}},{key:"addOnDestroyListener",value:function(){var e=this;this.$scope.$on("$destroy",function(){e.modal.remove(),e.cloneTranscludeScope.$destroy(),e.isOpenWatcher()})}},{key:"createIsOpenWatcher",value:function(){var e=this;this.isOpenWatcher=this.$scope.$watch(function(){return e.isOpen},function(){e.isOpen?e.modal.show():e.modal.hide()})}},{key:"emitOnSetupEvent",value:function(){this.onSetup({$removeModal:this.removeModal.bind(this)})}},{key:"createModalAndAppendClone",value:function(e,o){var n=e.scope,t=void 0===n?this.$rootScope.$new(!0):n,i=e.animation,a=void 0===i?"slide-in-up":i,r=e.focusFirstInput,s=void 0===r?!1:r,c=e.backdropClickToClose,l=void 0===c?!0:c,d=e.hardwareBackButtonClose,u=void 0===d?!0:d,p={scope:t,animation:a,focusFirstInput:s,backdropClickToClose:l,hardwareBackButtonClose:u};this.modal=this.$ionicModal.fromTemplate("<ion-modal-view></ion-modal-view>",p);var h=angular.element(this.modal.modalEl);return h.append(o),this.modal}},{key:"removeModal",value:function(){this.$scope.$destroy()}}]),e}();o.$inject=["$scope","$ionicModal","$transclude","$rootScope"],angular.module("ionicModalComponent",["ionic"]).directive("ionicModalComponent",e)}();