/*! ionic-modal-component v0.0.2 | (c) 2017 @leanzubrezki | https://github.com/leandroz/ionic-modal-component */
"use strict";function _classCallCheck(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function e(e,o){for(var n=0;n<o.length;n++){var t=o[n];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}return function(o,n,t){return n&&e(o.prototype,n),t&&e(o,t),o}}();!function(){function e(){return{restrict:"E",transclude:!0,scope:{onShown:"&",onHidden:"&",onRemoved:"&",onSetup:"&",isOpen:"=",animation:"@",focusFirstInput:"@",backdropClickToClose:"@",hardwareBackButtonClose:"@"},controller:o,bindToController:!0,controllerAs:"vm"}}var o=function(){function e(o,n,t,i,a){var r=this;_classCallCheck(this,e),this.$timeout=a,this.$rootScope=i,this.$transclude=t,this.$ionicModal=n,this.$scope=o;var s=this.animation,c=this.focusFirstInput,l=this.backdropClickToClose,u=this.hardwareBackButtonClose;c="true"==c,l="true"==l,u="true"==u,t(function(e,o){r.cloneTranscludeScope=o;var n=r.createModalAndAppendClone({scope:o,animation:s,focusFirstInput:c,backdropClickToClose:l,hardwareBackButtonClose:u},e);r.setupScopeListeners(n.scope),r.createIsOpenWatcher(),r.addOnDestroyListener(),r.emitOnSetupEvent()})}return _createClass(e,[{key:"setupScopeListeners",value:function(e){e.$on("modal.shown",this.onShown),e.$on("modal.hidden",this.onHidden),e.$on("modal.removed",this.onRemoved)}},{key:"addOnDestroyListener",value:function(){var e=this;this.$scope.$on("$destroy",function(){e.modal.remove(),e.cloneTranscludeScope.$destroy(),e.isOpenWatcher()})}},{key:"createIsOpenWatcher",value:function(){var e=this;this.isOpenWatcher=this.$scope.$watch(function(){return e.isOpen},function(){e.isOpen?e.modal.show():e.modal.hide()})}},{key:"emitOnSetupEvent",value:function(){var e=this;this.$timeout(function(){e.onSetup({$removeModal:e.removeModal.bind(e)})})}},{key:"createModalAndAppendClone",value:function(e,o){var n=e.scope,t=void 0===n?this.$rootScope.$new(!0):n,i=e.animation,a=void 0===i?"slide-in-up":i,r=e.focusFirstInput,s=void 0!==r&&r,c=e.backdropClickToClose,l=void 0===c||c,u=e.hardwareBackButtonClose,d=void 0===u||u,p={scope:t,animation:a,focusFirstInput:s,backdropClickToClose:l,hardwareBackButtonClose:d};this.modal=this.$ionicModal.fromTemplate("<ion-modal-view></ion-modal-view>",p);var h=angular.element(this.modal.modalEl);return h.append(o),this.modal}},{key:"removeModal",value:function(){this.$scope.$destroy()}}]),e}();o.$inject=["$scope","$ionicModal","$transclude","$rootScope","$timeout"],angular.module("ionicModalComponent",["ionic"]).directive("ionicModalComponent",e)}();